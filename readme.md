# работа JVM

1. Начинает работать ClassLoader, от Application ClassLoader делегируется запрос к
 PlatformClassLoader, от него запрос делегируется в Bootstrap ClassLoader. Происходит подгрузка
 классов разных уровней со спуском в обратном порядке.
 Подгружаются классы: JvmComprehencion, Object, Integer, системные классы.
 Клссы связываются и инициализируются.

2. Классы загружаются в Metaspace.

3. В стэке формируется фрейм main в нем создается переменная i = 1, затем в куче создается объект
 object, а в стэке переменная (о) с ссылкой на object. в куче создается объект (2), а в стэке 
 переменная (ii) с ссылкой на объект (2).

4. В стэке формируется фрейм printAll. В нем создаается переменная (о) с ссылкой на объект object,
 переменная i = 1, переменная (ii) с ссылкой на (2). В куче создаается объект (700), в стэке 
 перемення uselesVar с ссылкой на объект (700).

5. В стэке создается фрейм sout. В нем в параметры записывается переменная (о) с ссылкой на объект 
object в куче, записывается переменная i = 1, переменная (ii) с ссылкой на (2) в куче. 
Выполняется вывод (o.toString() + i + ii). Фрейм закрывается, маркер смещается на printAll.

6. Завершается printAll. Маркер смещается на main. Сборщик мусора удаляет объект (700) из кучи.

7. Создается фрейм sout, который записывается поверх printAll. В куче создается строка "finished", 
в фрейме в параметр записывается переменная с ссылкой н эту строку. выполняется вывод строки, 
маркер в стэке смещается на main.

8. Завершается main. Сборщик мусора подчищаает объекты object и (2), строку "finished".

![схема](D:\IdeaProjects\JVM\работа JVM.PNG)

